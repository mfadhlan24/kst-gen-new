<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KST Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>
</head>
<body class="bg-gray-900 text-white p-6">
  <div class="max-w-5xl mx-auto">
    <h1 class="text-xl font-bold text-center mb-4">Kartu Studi Tetap Generator</h1>

    <!-- Info -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-4">
      <input id="nama" value="<%= nama %>" class="bg-gray-800 p-2 rounded" readonly />
      <input id="nim" value="<%= nim %>" class="bg-gray-800 p-2 rounded" readonly />
      <input id="strata" value="<%= strata %>" class="bg-gray-800 p-2 rounded" readonly />
      <input id="prodi" value="<%= prodi %>" class="bg-gray-800 p-2 rounded" readonly />
      <input id="konsentrasi" value="<%= konsentrasi %>" class="bg-gray-800 p-2 rounded" readonly />
      <button id="generateBtn" class="bg-indigo-600 px-4 py-2 rounded">Generate KST</button>
    </div>

    <button id="pdfBtn" class="bg-green-600 px-4 py-2 rounded mb-6 hidden">Download PDF</button>

    <!-- Output -->
    <div id="kst" class="bg-white text-black p-6 text-sm hidden" style="font-family: Arial, sans-serif; line-height: 1.3;">
      <div class="text-center mb-6">
        <h1 class="font-bold text-lg mb-1">UNIVERSITAS RAHARJA</h1>
        <p class="text-xs mb-1">Kampus Modern : Jl. Jendral Sudirman No. 40 Babakan Cikokol-Tangerang 15117</p>
        <p class="text-xs mb-4">Telp. 021 - 5529692 Fax. 5532019</p>
        <h2 class="font-bold text-base mb-1">KARTU STUDI TETAP</h2>
        <p class="text-sm">Semester Genap 2024/2025</p>
      </div>

      <div class="mb-4">
        <div class="grid grid-cols-2 gap-8 text-sm">
          <div class="space-y-1">
            <p><strong>NIM :</strong> <span id="outNIM"></span></p>
            <p><strong>Nama :</strong> <span id="outNama"></span></p>
            <p><strong>Program Pendidikan :</strong> <span id="outStrata"></span></p>
          </div>
          <div class="space-y-1">
            <p><strong>Prodi :</strong> <span id="outProdi"></span></p>
            <p><strong>Konsentrasi :</strong> <span id="outKonsentrasi"></span></p>
            <p><strong>Shift :</strong> Paket 1</p>
          </div>
        </div>
      </div>

      <!-- Table -->
      <table class="w-full border-collapse border border-black mb-4 text-xs">
        <thead>
          <tr>
            <th class="border border-black p-2 text-center">No</th>
            <th class="border border-black p-2 text-center">MATAKULIAH</th>
            <th class="border border-black p-2 text-center">KELAS</th>
            <th class="border border-black p-2 text-center">SKS</th>
            <th class="border border-black p-2 text-center">HARI</th>
            <th class="border border-black p-2 text-center">RUANG</th>
            <th class="border border-black p-2 text-center">WAKTU</th>
          </tr>
        </thead>
        <tbody id="tableBody"></tbody>
        <tfoot>
          <tr>
            <td colspan="3" class="border border-black p-2 text-center">Jumlah</td>
            <td class="border border-black p-2 text-center"><span id="totalSKS"></span> SKS</td>
            <td colspan="3"></td>
          </tr>
        </tfoot>
      </table>

      <!-- Lecturer Table -->
      <table class="w-full border-collapse border border-black mb-4 text-xs">
        <thead>
          <tr>
            <th class="border border-black p-2 text-center">No</th>
            <th class="border border-black p-2 text-center">KELAS</th>
            <th class="border border-black p-2 text-center">DOSEN</th>
            <th class="border border-black p-2 text-center">WHATSAPP</th>
          </tr>
        </thead>
        <tbody id="dosenTable"></tbody>
      </table>

      <div class="mt-6">
        <p class="text-sm font-bold">KONTAK PRODI :</p>
        <p class="text-sm mb-4">Prodi : https://linktr.ee/raharja</p>
        <div class="text-right">
          <p class="text-sm">Tangerang, <span id="tanggalSekarang"></span></p>
        </div>
      </div>
    </div>

    <p class="mt-6 text-center">Data di-generate server-side menggunakan Faker.js + client-side table randomizer</p>
  </div>

  <script src="/js/kst.js"></script>
</body>
</html>
